"use strict";(self.webpackChunktqi_evolution=self.webpackChunktqi_evolution||[]).push([[337],{6337:(Z,m,a)=>{a.r(m),a.d(m,{CadastrarModule:()=>E});var c=a(8583),p=a(8239),u=a(9783),t=a(639),i=a(665),g=a(2340),s=a(1841),d=a(5577);let f=(()=>{class o{constructor(e,r){this.http=e,this.localStorageService=r,this.localStorage=this.localStorageService.getDados(),this.urlBase=g.N.urlBase}cadastrar(e){var r=this;return(0,p.Z)(function*(){const l=`${r.urlBase}/cadastro-cliente`;yield r.http.post(l,e).toPromise()})()}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(s.eN),t.LFG(d.n))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var v=a(7773),h=a(3725),x=a(845),T=a(1424);function b(o,n){if(1&o&&(t.TgZ(0,"div",18),t.TgZ(1,"div",19),t.TgZ(2,"div",10),t.TgZ(3,"div",20),t._UZ(4,"i",21),t.qZA(),t.TgZ(5,"div",22),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(7),t.Oqu(e.detail)}}function A(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div"),t._UZ(2,"input",23),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Tol(e.classDiv),t.xp6(1),t.Tol(e.inputClass),t.s9C("type",e.type),t.s9C("formControlName",e.field),t.s9C("placeholder",e.placeHolder)}}function S(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div"),t._UZ(2,"input",23),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Tol(e.classDiv),t.xp6(1),t.Tol(e.inputClass),t.s9C("type",e.type),t.s9C("formControlName",e.field),t.s9C("placeholder",e.placeHolder)}}let y=(()=>{class o{constructor(e,r,l){this.formBuilder=e,this.cadastrarUsuarioService=r,this.messageService=l,this.nomeBtn="Entrar",this.listaInputs=[],this.inputListEndereco=[],this.listaDadosFormulario={},this.btnCadastrar=!0,this.btnProximo=!0,this.btnCadastrarTudo=!0,this.index=0,this.usuario={},this.endereco={},this.cadastrarUsuario={},this.items=[],this.listaInputs=[{classDiv:"form",type:"text",inputClass:"p-inputtext-sm",placeHolder:"Nome",field:"nome"},{classDiv:"form",type:"text",inputClass:"p-inputtext-sm",placeHolder:"Email",field:"email"},{classDiv:"form",type:"text",inputClass:"p-inputtext-sm",placeHolder:"Cpf",field:"cpf"},{classDiv:"form",type:"text",inputClass:"p-inputtext-sm",placeHolder:"Rg",field:"rg"},{classDiv:"form",type:"text",inputClass:"p-inputtext-sm",placeHolder:"Renda",field:"renda"},{classDiv:"form",type:"password",inputClass:"p-inputtext-sm",placeHolder:"Senha",field:"senha"}],this.inputListEndereco=[{classDiv:"form",type:"text",inputClass:"p-inputtext-sm",placeHolder:"Apelido",field:"apelido"},{classDiv:"form",type:"text",inputClass:"p-inputtext-sm",placeHolder:"Rua",field:"rua"},{classDiv:"form",type:"text",inputClass:"p-inputtext-sm",placeHolder:"N\xfamero",field:"numero"},{classDiv:"form",type:"text",inputClass:"p-inputtext-sm",placeHolder:"Cep",field:"cep"}],this.listaDadosFormulario=this.formBuilder.group({nome:[null],email:[null],cpf:[null],rg:[null],renda:[null],senha:[null]}),this.listaDadosFormularioEndereco=this.formBuilder.group({apelido:[null],rua:[null],numero:[null],cep:[null]}),this.items=[{label:"Step 1"},{label:"Step 2"},{label:"Step 3"}]}ngOnInit(){}cadastrar(){var e=this;return(0,p.Z)(function*(){e.usuario.nome=e.listaDadosFormulario.value.nome,e.usuario.email=e.listaDadosFormulario.value.email,e.usuario.cpf=e.listaDadosFormulario.value.cpf,e.usuario.rg=e.listaDadosFormulario.value.rg,e.usuario.renda=e.listaDadosFormulario.value.renda,e.usuario.senha=e.listaDadosFormulario.value.senha,e.endereco.apelido=e.listaDadosFormularioEndereco.value.apelido,e.endereco.rua=e.listaDadosFormularioEndereco.value.rua,e.endereco.numero=e.listaDadosFormularioEndereco.value.numero,e.endereco.cep=e.listaDadosFormularioEndereco.value.cep,e.cadastrarUsuario.cliente=e.usuario,e.cadastrarUsuario.endereco=e.endereco,console.log(e.cadastrarUsuario),yield e.cadastrarUsuarioService.cadastrar(e.cadastrarUsuario).then(r=>{e.messageService.add({severity:"error",detail:"Usuario cadastrado com sucesso"}),setTimeout(function(){window.location.href="/login"},1100)}).catch(r=>{e.messageService.add({severity:"error",detail:"Campos vazios est\xe3o vazios ou email j\xe1 consta no sistema"})})})()}proximo(){var e=this;return(0,p.Z)(function*(){e.index=1})()}voltar(){setTimeout(function(){window.location.href="/home"},300)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(i.qu),t.Y36(f),t.Y36(u.ez))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cadastrar"]],inputs:{listaDadosFormularioEndereco:"listaDadosFormularioEndereco",index:"index",proximo:"proximo"},outputs:{nomeBtn:"nomeBtn",listaInputs:"listaInputs",inputListEndereco:"inputListEndereco",listaDadosFormulario:"listaDadosFormulario",btnCadastrar:"btnCadastrar",btnEntrar:"btnEntrar",btnProximo:"btnProximo",btnCadastrarTudo:"btnCadastrarTudo",cadastrar:"cadastrar"},features:[t._Bn([u.ez])],decls:35,vars:5,consts:[["pTemplate","message"],[3,"activeIndex"],["header","Informa\xe7\xf5es Pessoais"],[3,"formGroup"],[1,"flex","align-content-center","flex-wrap","justify-content-center",2,"min-height","97vh"],[1,"col-8","sm:col-4","md:col-4","lg:col-4","xl:col-3"],[1,"flex","flex-column","card-container","green-container"],[1,"img"],[1,"h1"],[4,"ngFor","ngForOf"],[1,"grid"],[1,"col-7"],["pButton","","pRipple","","type","button","label","Proximo",1,"p-button-rounded",3,"click"],[1,"col-5"],[1,"voltar",3,"click"],[1,"pi","pi-replay"],["header","Endereco"],["pButton","","pRipple","","type","button","label","Cadastrar",1,"p-button-rounded",3,"click"],[1,"p-flex","p-flex-column",2,"flex","1"],[1,"p-text-center"],[1,"col-2"],[1,"pi","pi-user","icon",2,"font-size","2rem"],[1,"col-8"],["pInputText","",3,"type","formControlName","placeholder"]],template:function(e,r){1&e&&(t.TgZ(0,"p-toast"),t.YNc(1,b,8,1,"ng-template",0),t.qZA(),t.TgZ(2,"p-tabView",1),t.TgZ(3,"p-tabPanel",2),t.TgZ(4,"form",3),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"div",6),t.TgZ(8,"div",7),t.TgZ(9,"h1",8),t._uU(10,"Cadastrar usu\xe1rio"),t.qZA(),t.qZA(),t.YNc(11,A,3,9,"div",9),t.TgZ(12,"div",10),t.TgZ(13,"div",11),t.TgZ(14,"button",12),t.NdJ("click",function(){return r.proximo()}),t.qZA(),t.qZA(),t.TgZ(15,"div",13),t.TgZ(16,"button",14),t.NdJ("click",function(){return r.voltar()}),t._UZ(17,"i",15),t._uU(18,"Voltar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"p-tabPanel",16),t.TgZ(20,"form",3),t.TgZ(21,"div",4),t.TgZ(22,"div",5),t.TgZ(23,"div",6),t.TgZ(24,"div",7),t.TgZ(25,"h1",8),t._uU(26,"Endereco"),t.qZA(),t.qZA(),t.YNc(27,S,3,9,"div",9),t.TgZ(28,"div",10),t.TgZ(29,"div",11),t.TgZ(30,"button",17),t.NdJ("click",function(){return r.cadastrar()}),t.qZA(),t.qZA(),t.TgZ(31,"div",13),t.TgZ(32,"button",14),t.NdJ("click",function(){return r.voltar()}),t._UZ(33,"i",15),t._uU(34,"Voltar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("activeIndex",r.index),t.xp6(2),t.Q6J("formGroup",r.listaDadosFormulario),t.xp6(7),t.Q6J("ngForOf",r.listaInputs),t.xp6(9),t.Q6J("formGroup",r.listaDadosFormularioEndereco),t.xp6(7),t.Q6J("ngForOf",r.inputListEndereco))},directives:[v.FN,u.jx,h.xf,h.x4,i._Y,i.JL,i.sg,c.sg,x.Hq,i.Fj,T.o,i.JJ,i.u],styles:['.grid{margin:0}  .p-inputtext.p-inputtext-sm{width:100%}.form[_ngcontent-%COMP%]{margin-top:1em}.p-button[_ngcontent-%COMP%]{color:#fff;background:#005fab;border:none;padding:.5rem 1rem;font-size:1rem;border-radius:0;font-family:"Quicksand",sans-serif}.p-button[_ngcontent-%COMP%]:hover{background:#005fab}.p-button[_ngcontent-%COMP%]:focus{background-color:#005fab;box-shadow:none}  .p-inputtext{font-family:"Roboto",sans-serif;color:#000;border:1px solid #727272;border-radius:2px}[_nghost-%COMP%]     .p-inputtext:focus{box-shadow:none;border:1px solid #727272}[_nghost-%COMP%]     .p-inputtext:hover{box-shadow:none;border:1px solid #727272}.img[_ngcontent-%COMP%]{width:100%;height:60px;margin-bottom:1vh}  button{width:100%}.h1[_ngcontent-%COMP%]{text-align:center;color:#777}.icon[_ngcontent-%COMP%]{margin-top:.3em}  .p-toast .p-toast-message.p-toast-message-error{z-index:999;background-color:#005fab;color:#fff;border:solid #26b526;border-width:0 0 0 6px;font-family:"Gill Sans","Gill Sans MT",Calibri,"Trebuchet MS",sans-serif;font-size:1.1rem}.voltar[_ngcontent-%COMP%]{height:2.6em;cursor:pointer}']}),o})();var C=a(3590);const D=[{path:"",component:y}];let F=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[C.Bz.forChild(D)],C.Bz]}),o})(),E=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,F]]}),o})()},5577:(Z,m,a)=>{a.d(m,{n:()=>t});var c=a(1841),p=a(2340),u=a(639);let t=(()=>{class i{constructor(s){this.http=s,this.localStorage={},this.urlBase=p.N.urlBase}getCliente(){var s=`{"email": "${this.email}"}`;const d=`${this.urlBase}/cliente`;var f=this.localStorage.token=localStorage.getItem("token");this.http.post(d,s,{headers:this.getAuthorization(f)}).subscribe(v=>{this.setLocalStorage("cliente",v)})}getDados(){return this.localStorage.cliente=JSON.parse(localStorage.getItem("cliente")),this.localStorage.token=localStorage.getItem("token"),this.localStorage.data=localStorage.getItem("data"),this.localStorage}setLocalStorage(s,d){localStorage.setItem(s,this.convertJson(d))}convertJson(s){return JSON.stringify(s)}getAuthorization(s){return new c.WM({"Content-Type":"application/json",Authorization:"Bearer "+s})}}return i.\u0275fac=function(s){return new(s||i)(u.LFG(c.eN))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);