"use strict";(self.webpackChunktqi_evolution=self.webpackChunktqi_evolution||[]).push([[165],{2165:(F,m,e)=>{e.r(m),e.d(m,{LoginModule:()=>y});var p=e(8583),d=e(8239),r=e(5577),u=e(4285),s=e(9783),g=e(6738),t=e(639),f=e(665),h=e(7773),v=e(3627);function C(a,i){if(1&a&&(t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5),t._UZ(4,"i",6),t.qZA(),t.TgZ(5,"div",7),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a){const o=i.$implicit;t.xp6(7),t.Oqu(o.detail)}}let S=(()=>{class a{constructor(o,n,l,D){this.formBuilder=o,this.loginService=n,this.messageService=l,this.localStorageService=D,this.nomeBtn="Entrar",this.listaInputs=[],this.listaDadosFormulario={},this.btnCadastrar=!0,this.btnEntrar=!0,this.nomeCadastrar="Cadastrar",this.cliente={},this.localStorage={},this.localStorage=this.localStorageService.getDados(),this.listaInputs=[{classDiv:"form",type:"text",inputClass:"p-inputtext-sm",placeHolder:"Email",field:"email"},{classDiv:"form",type:"password",inputClass:"p-inputtext-sm",placeHolder:"Senha",field:"senha"}],this.listaDadosFormulario=this.formBuilder.group({email:[null],senha:[null]})}ngOnInit(){const o={token:window.localStorage.getItem("token")};this.loginService.tokenIsValid(o).then(n=>{n&&(window.location.href="/home")})}autenticar(){var o=this;return(0,d.Z)(function*(){o.cliente.email=o.listaDadosFormulario.value.email,o.cliente.senha=o.listaDadosFormulario.value.senha,r.n.prototype.email=o.cliente.email,yield o.loginService.login(o.cliente).then(n=>{o.localStorageService.getCliente();const l=new Date;r.n.prototype.setLocalStorage("data",g(l).format("DD-MM-YYYY")),setTimeout(function(){window.location.href="/home"},800)}).catch(n=>{o.messageService.add({severity:"error",detail:"Login ou senha inv\xe1lidos!"})})})()}cadastrar(){return(0,d.Z)(function*(){setTimeout(function(){window.location.href="/cadastrar"},700)})()}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(f.qu),t.Y36(u.r),t.Y36(s.ez),t.Y36(r.n))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-login"]],outputs:{nomeBtn:"nomeBtn",listaInputs:"listaInputs",listaDadosFormulario:"listaDadosFormulario",btnCadastrar:"btnCadastrar",btnEntrar:"btnEntrar",nomeCadastrar:"nomeCadastrar"},features:[t._Bn([u.r,s.ez])],decls:3,vars:8,consts:[["pTemplate","message"],[3,"nomeBtn","inputList","listaDadosFormulario","dispararFuncao","btnCadastrar","btnEntrar","cadastrar","nomeCadastrar"],[1,"p-flex","p-flex-column",2,"flex","1"],[1,"p-text-center"],[1,"grid"],[1,"col-2"],[1,"pi","pi-user","icon",2,"font-size","2rem"],[1,"col-8"]],template:function(o,n){1&o&&(t.TgZ(0,"p-toast"),t.YNc(1,C,8,1,"ng-template",0),t.qZA(),t._UZ(2,"app-formulario",1)),2&o&&(t.xp6(2),t.Q6J("nomeBtn",n.nomeBtn)("inputList",n.listaInputs)("listaDadosFormulario",n.listaDadosFormulario)("dispararFuncao",n.autenticar)("btnCadastrar",n.btnCadastrar)("btnEntrar",n.btnEntrar)("cadastrar",n.cadastrar)("nomeCadastrar",n.nomeCadastrar))},directives:[h.FN,s.jx,v.o],styles:['.icon[_ngcontent-%COMP%]{margin-top:.3em}  .p-toast .p-toast-message.p-toast-message-error{background-color:#005fab;color:#fff;border:solid #26b526;border-width:0 0 0 6px;font-family:"Gill Sans","Gill Sans MT",Calibri,"Trebuchet MS",sans-serif;font-size:1.1rem}']}),a})();var c=e(3590);const Z=[{path:"",component:S}];let L=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[c.Bz.forChild(Z)],c.Bz]}),a})(),y=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[p.ez,L]]}),a})()}}]);